<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - Ping Pong Shop</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/styles.css">
</head>
<body>
    <nav>
        <ul class="menu">
            <li>
                <a href="../index.html">
                    <img src="../assets/img/logo/logo.png" alt="Ping Pong Shop" class="site-logo">
                </a>
            </li>
            <li><a href="../index.html">Ping Pong Shop</a></li>
            <li class="dropdown">
                <a href="products.html?cat=all">Products</a>
                <ul class="dropdown-content">
                    <li><a href="products.html?cat=all">All Products</a></li>
                    <li><a href="products.html?cat=rubbers">Rubbers</a></li>
                    <li><a href="products.html?cat=blades">Blades</a></li>
                    <li><a href="products.html?cat=shoes">Shoes</a></li>
                    <li><a href="products.html?cat=balls">Balls</a></li>
                    <li><a href="products.html?cat=rackets">Complete Rackets</a></li>
                </ul>
            </li>
            <li><a href="../blog/index.html">Blog</a></li>
            <li><a href="play.html">Play Pong Game</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="cart.html">Cart</a></li>
        </ul>
    </nav>
    <main>
        <h1>Contact Us</h1>
        <section class="contact-section">
            <div class="contact-info">
                <h2>Get in Touch</h2>
                <p>Have questions about our products or need expert advice? We're here to help!</p>
                <div class="contact-details">
                    <p><i class="material-icons">location_on</i> 123 Table Tennis Street, Sports City</p>
                    <p><i class="material-icons">phone</i> (555) 123-4567</p>
                    <p><i class="material-icons">email</i> info@pingpongshop.com</p>
                </div>
            </div>
            <form class="contact-form" id="contactForm">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="subject">Subject:</label>
                    <input type="text" id="subject" name="subject" required>
                </div>
                <div class="form-group">
                    <label for="message">Message:</label>
                    <textarea id="message" name="message" rows="5" required></textarea>
                </div>
                <div class="form-group">
                    <label for="phone">Phone:</label>
                    <input type="text" id="phone" name="phone">
                </div>
                <button type="submit">Send Message</button>
            </form>
        </section>
    </main>
    <script src="../assets/js/products.js" type="module"></script>
    <script src="../assets/js/script.js" type="module"></script>
    <script type="module">
        const contactForm = document.getElementById('contactForm');

        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(contactForm);
            const data = {
                name: formData.get('name'),
                email: formData.get('email'),
                phone: formData.get('phone'),
                subject: formData.get('subject'),
                message: formData.get('message')
            };

            setLoading(contactForm, true);
            fetch('https://api.pingpongshop.com/contact', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/pingpong'
                },
                body: JSON.stringify(data)
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(() => {
                showFeedback('Thank you for your message. We will get back to you soon!', 'success');
                contactForm.reset();
            })
            .catch(error => {
                showFeedback('Failed to send your message. Please try again later.', 'error');
                console.error('Error:', error);
            })
            .finally(() => {
                setLoading(contactForm, false);
            });
        });
    </script>
</body>
</html>